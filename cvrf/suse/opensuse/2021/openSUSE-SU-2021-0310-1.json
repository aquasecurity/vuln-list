{
  "Title": "Security update for buildah, libcontainers-common, podman",
  "Tracking": {
    "ID": "openSUSE-SU-2021:0310-1",
    "Status": "Final",
    "Version": "1",
    "InitialReleaseDate": "2021-02-19T11:05:43Z",
    "CurrentReleaseDate": "2021-02-19T11:05:43Z",
    "RevisionHistory": [
      {
        "Number": "1",
        "Date": "2021-02-19T11:05:43Z",
        "Description": "current"
      }
    ]
  },
  "Notes": [
    {
      "Text": "Security update for buildah, libcontainers-common, podman",
      "Title": "Topic",
      "Type": "Summary"
    },
    {
      "Text": "This update for buildah, libcontainers-common, podman fixes the following issues:\n\nChanges in libcontainers-common:\n\n- Update common to 0.33.0\n- Update image to 5.9.0\n- Update podman to 2.2.1\n- Update storage to 1.24.5\n- Switch to seccomp profile provided by common instead of podman\n- Update containers.conf to match latest version\n\nChanges in buildah:\n\nUpdate to version 1.19.2:\n\n* Update vendor of containers/storage and containers/common\n* Buildah inspect should be able to inspect manifests\n* Make buildah push support pushing manifests lists and digests\n* Fix handling of TMPDIR environment variable\n* Add support for --manifest flags\n* Upper directory should match mode of destination directory\n* Only grab the OS, Arch if the user actually specified them\n* Use --arch and --os and --variant options to select architecture and os\n* Cirrus: Track libseccomp and golang version\n* copier.PutOptions: add an 'IgnoreDevices' flag\n* fix: `rmi --prune` when parent image is in store.\n* build(deps): bump github.com/containers/storage from 1.24.3 to 1.24.4\n* build(deps): bump github.com/containers/common from 0.31.1 to 0.31.2\n* Allow users to specify stdin into containers\n* Drop log message on failure to mount on /sys file systems to info\n* Spelling\n* SELinux no longer requires a tag.\n* build(deps): bump github.com/opencontainers/selinux from 1.6.0 to 1.8.0\n* build(deps): bump github.com/containers/common from 0.31.0 to 0.31.1\n* Update nix pin with `make nixpkgs`\n* Switch references of /var/run -\u003e /run\n* Allow FROM to be overriden with from option\n* copier: don't assume we can chroot() on Unixy systems\n* copier: add PutOptions.NoOverwriteDirNonDir, Get/PutOptions.Rename\n* copier: handle replacing directories with not-directories\n* copier: Put: skip entries with zero-length names\n* build(deps): bump github.com/containers/storage from 1.24.2 to 1.24.3\n* Add U volume flag to chown source volumes\n* Turn off PRIOR_UBUNTU Test until vm is updated\n* pkg, cli: rootless uses correct isolation\n* build(deps): bump github.com/onsi/gomega from 1.10.3 to 1.10.4\n* update installation doc to reflect current status\n* Move away from using docker.io\n* enable short-name aliasing\n* build(deps): bump github.com/containers/storage from 1.24.1 to 1.24.2\n* build(deps): bump github.com/containers/common from 0.30.0 to 0.31.0\n* Throw errors when using bogus --network flags\n* pkg/supplemented test: replace our null blobinfocache\n* build(deps): bump github.com/containers/common from 0.29.0 to 0.30.0\n* inserts forgotten quotation mark\n* Not prefer use local image create/add manifest\n* Add container information to .containerenv\n* Add --ignorefile flag to use alternate .dockerignore flags\n* Add a source debug build\n* Fix crash on invalid filter commands\n* build(deps): bump github.com/containers/common from 0.27.0 to 0.29.0\n* Switch to using containers/common pkg's\n* fix: non-portable shebang #2812\n* Remove copy/paste errors that leaked `Podman` into man pages.\n* Add suggests cpp to spec file\n* Apply suggestions from code review\n* update docs for debian testing and unstable\n* imagebuildah: disable pseudo-terminals for RUN\n* Compute diffID for mapped-layer at creating image source\n* intermediateImageExists: ignore images whose history we can't read\n* Bump to v1.19.0-dev\n* build(deps): bump github.com/containers/common from 0.26.3 to 0.27.0\n* Fix testing error caused by simultanious merge\n* Vendor in containers/storage v1.24.0\n* short-names aliasing\n* Add --policy flag to buildah pull\n* Stop overwrapping and stuttering\n* copier.Get(): ignore ENOTSUP/ENOSYS when listing xattrs\n* Run: don't forcibly disable UTS namespaces in rootless mode\n* test: ensure non-directory in a Dockerfile path is handled correctly\n* Add a few tests for `pull` command\n* Fix buildah config --cmd to handle array\n* build(deps): bump github.com/containers/storage from 1.23.8 to 1.23.9\n* Fix NPE when Dockerfile path contains non-directory entries\n* Update buildah bud man page from podman build man page\n* Move declaration of decryption-keys to common cli\n* Run: correctly call copier.Mkdir\n* util: digging UID/GID out of os.FileInfo should work on Unix\n* imagebuildah.getImageTypeAndHistoryAndDiffIDs: cache results\n* Verify userns-uid-map and userns-gid-map input\n* Use CPP, CC and flags in dep check scripts\n* Avoid overriding LDFLAGS in Makefile\n* ADD: handle --chown on URLs\n* Update nix pin with `make nixpkgs`\n* (*Builder).Run: MkdirAll: handle EEXIST error\n* copier: try to force loading of nsswitch modules before chroot()\n* fix MkdirAll usage\n* build(deps): bump github.com/containers/common from 0.26.2 to 0.26.3\n* build(deps): bump github.com/containers/storage from 1.23.7 to 1.23.8\n* Use osusergo build tag for static build\n* imagebuildah: cache should take image format into account\n* Bump to v1.18.0-dev\n\nUpdate to version 1.17.1:\n\n* copier.Get(): ignore ENOTSUP/ENOSYS when listing xattrs\n* copier: try to force loading of nsswitch modules before chroot()\n* ADD: handle --chown on URLs\n* imagebuildah: cache should take image format into account\n* Update CI configuration for the release-1.17 branch\n\nadded cni to requires as its needed for buildah to run \n\nUpdate to v1.17.0 (boo#1165184)\n\n* Handle cases where other tools mount/unmount containers\n* overlay.MountReadOnly: support RO overlay mounts\n* overlay: use fusermount for rootless umounts\n* overlay: fix umount\n* Switch default log level of Buildah to Warn. Users need to see these messages\n* Drop error messages about OCI/Docker format to Warning level\n* build(deps): bump github.com/containers/common from 0.26.0 to 0.26.2\n* tests/testreport: adjust for API break in storage v1.23.6\n* build(deps): bump github.com/containers/storage from 1.23.5 to 1.23.7\n* build(deps): bump github.com/fsouza/go-dockerclient from 1.6.5 to 1.6.6\n* copier: put: ignore Typeflag='g'\n* Use curl to get repo file (fix #2714)\n* build(deps): bump github.com/containers/common from 0.25.0 to 0.26.0\n* build(deps): bump github.com/spf13/cobra from 1.0.0 to 1.1.1\n* Remove docs that refer to bors, since we're not using it\n* Buildah bud should not use stdin by default\n* bump containerd, docker, and golang.org/x/sys\n* Makefile: cross: remove windows.386 target\n* copier.copierHandlerPut: don't check length when there are errors\n* Stop excessive wrapping\n* CI: require that conformance tests pass\n* bump(github.com/openshift/imagebuilder) to v1.1.8\n* Skip tlsVerify insecure BUILD_REGISTRY_SOURCES\n* Fix build path wrong containers/podman#7993\n* refactor pullpolicy to avoid deps\n* build(deps): bump github.com/containers/common from 0.24.0 to 0.25.0\n* CI: run gating tasks with a lot more memory\n* ADD and COPY: descend into excluded directories, sometimes\n* copier: add more context to a couple of error messages\n* copier: check an error earlier\n* copier: log stderr output as debug on success\n* Update nix pin with make nixpkgs\n* Set directory ownership when copied with ID mapping\n* build(deps): bump github.com/sirupsen/logrus from 1.6.0 to 1.7.0\n* build(deps): bump github.com/containers/common from 0.23.0 to 0.24.0\n* Cirrus: Remove bors artifacts\n* Sort build flag definitions alphabetically\n* ADD: only expand archives at the right time\n* Remove configuration for bors\n* Shell Completion for podman build flags\n* Bump c/common to v0.24.0\n* New CI check: xref --help vs man pages\n* CI: re-enable several linters\n* Move --userns-uid-map/--userns-gid-map description into buildah man page\n* add: preserve ownerships and permissions on ADDed archives\n* Makefile: tweak the cross-compile target\n* Bump containers/common to v0.23.0\n* chroot: create bind mount targets 0755 instead of 0700\n* Change call to Split() to safer SplitN()\n* chroot: fix handling of errno seccomp rules\n* build(deps): bump github.com/containers/image/v5 from 5.5.2 to 5.6.0\n* Add In Progress section to contributing\n* integration tests: make sure tests run in ${topdir}/tests\n* Run(): ignore containers.conf's environment configuration\n* Warn when setting healthcheck in OCI format\n* Cirrus: Skip git-validate on branches\n* tools: update git-validation to the latest commit\n* tools: update golangci-lint to v1.18.0\n* Add a few tests of push command\n* Add(): fix handling of relative paths with no ContextDir\n* build(deps): bump github.com/containers/common from 0.21.0 to 0.22.0\n* Lint: Use same linters as podman\n* Validate: reference HEAD\n* Fix buildah mount to display container names not ids\n* Update nix pin with make nixpkgs\n* Add missing --format option in buildah from man page\n* Fix up code based on codespell\n* build(deps): bump github.com/openshift/imagebuilder from 1.1.6 to 1.1.7\n* build(deps): bump github.com/containers/storage from 1.23.4 to 1.23.5\n* Improve buildah completions\n* Cirrus: Fix validate commit epoch\n* Fix bash completion of manifest flags\n* Uniform some man pages\n* Update Buildah Tutorial to address BZ1867426\n* Update bash completion of manifest add sub command\n* copier.Get(): hard link targets shouldn't be relative paths\n* build(deps): bump github.com/onsi/gomega from 1.10.1 to 1.10.2\n* Pass timestamp down to history lines\n* Timestamp gets updated everytime you inspect an image\n* bud.bats: use absolute paths in newly-added tests\n* contrib/cirrus/lib.sh: don't use CN for the hostname\n* tests: Add some tests\n* Update manifest add man page\n* Extend flags of manifest add\n* build(deps): bump github.com/containers/storage from 1.23.3 to 1.23.4\n* build(deps): bump github.com/onsi/ginkgo from 1.14.0 to 1.14.1\n* Bump to v1.17.0-dev\n* CI: expand cross-compile checks\n- SLE: Remove unneeded patch: CVE-2019-10214.patch\n\nUpdate to v1.16.2\n\n* fix build on 32bit arches\n* containerImageRef.NewImageSource(): don't always force timestamps\n* Add fuse module warning to image readme\n* Heed our retry delay option values when retrying commit/pull/push\n* Switch to containers/common for seccomp\n* Use --timestamp rather then --omit-timestamp\n* docs: remove outdated notice\n* docs: remove outdated notice\n* build-using-dockerfile: add a hidden --log-rusage flag\n* build(deps): bump github.com/containers/image/v5 from 5.5.1 to 5.5.2\n* Discard ReportWriter if user sets options.Quiet\n* build(deps): bump github.com/containers/common from 0.19.0 to 0.20.3\n* Fix ownership of content copied using COPY --from\n* newTarDigester: zero out timestamps in tar headers\n* Update nix pin with `make nixpkgs`\n* bud.bats: correct .dockerignore integration tests\n* Use pipes for copying\n* run: include stdout in error message\n* run: use the correct error for errors.Wrapf\n* copier: un-export internal types\n* copier: add Mkdir()\n* in_podman: don't get tripped up by $CIRRUS_CHANGE_TITLE\n* docs/buildah-commit.md: tweak some wording, add a --rm example\n* imagebuildah: donâ€™t blank out destination names when COPYing\n* Replace retry functions with common/pkg/retry\n* StageExecutor.historyMatches: compare timestamps using .Equal\n* Update vendor of containers/common\n* Fix errors found in coverity scan\n* Change namespace handling flags to better match podman commands\n* conformance testing: ignore buildah.BuilderIdentityAnnotation labels\n* Vendor in containers/storage v1.23.0\n* Add buildah.IsContainer interface\n* Avoid feeding run_buildah to pipe\n* fix(buildahimage): add xz dependency in buildah image\n* Bump github.com/containers/common from 0.15.2 to 0.18.0\n* Howto for rootless image building from OpenShift\n* Add --omit-timestamp flag to buildah bud\n* Update nix pin with `make nixpkgs`\n* Shutdown storage on failures\n* Handle COPY --from when an argument is used\n* Bump github.com/seccomp/containers-golang from 0.5.0 to 0.6.0\n* Cirrus: Use newly built VM images\n* Bump github.com/opencontainers/runc from 1.0.0-rc91 to 1.0.0-rc92\n* Enhance the .dockerignore man pages\n* conformance: add a test for COPY from subdirectory\n* fix  bug manifest inspct\n* Add documentation for .dockerignore\n* Add BuilderIdentityAnnotation to identify buildah version\n* DOC: Add quay.io/containers/buildah image to README.md\n* Update buildahimages readme\n* fix spelling mistake in 'info' command result display\n* Don't bind /etc/host and /etc/resolv.conf if network is not present\n* blobcache: avoid an unnecessary NewImage()\n* Build static binary with `buildGoModule`\n* copier: split StripSetidBits into StripSetuidBit/StripSetgidBit/StripStickyBit\n* tarFilterer: handle multiple archives\n* Fix a race we hit during conformance tests\n* Rework conformance testing\n* Update 02-registries-repositories.md\n* test-unit: invoke cmd/buildah tests with --flags\n* parse: fix a type mismatch in a test\n* Fix compilation of tests/testreport/testreport\n* build.sh: log the version of Go that we're using\n* test-unit: increase the test timeout to 40/45 minutes\n* Add the 'copier' package\n* Fix \u0026 add notes regarding problematic language in codebase\n* Add dependency on github.com/stretchr/testify/require\n* CompositeDigester: add the ability to filter tar streams\n* BATS tests: make more robust\n* vendor golang.org/x/text@v0.3.3\n* Switch golang 1.12 to golang 1.13\n* imagebuildah: wait for stages that might not have even started yet\n* chroot, run: not fail on bind mounts from /sys\n* chroot: do not use setgroups if it is blocked\n* Set engine env from containers.conf\n* imagebuildah: return the right stage's image as the 'final' image\n* Fix a help string\n* Deduplicate environment variables\n* switch containers/libpod to containers/podman\n* Bump github.com/containers/ocicrypt from 1.0.2 to 1.0.3\n* Bump github.com/opencontainers/selinux from 1.5.2 to 1.6.0\n* Mask out /sys/dev to prevent information leak\n* linux: skip errors from the runtime kill\n* Mask over the /sys/fs/selinux in mask branch\n* Add VFS additional image store to container\n* tests: add auth tests\n* Allow 'readonly' as alias to 'ro' in mount options\n* Ignore OS X specific consistency mount option\n* Bump github.com/onsi/ginkgo from 1.13.0 to 1.14.0\n* Bump github.com/containers/common from 0.14.0 to 0.15.2\n* Rootless Buildah should default to IsolationOCIRootless\n* imagebuildah: fix inheriting multi-stage builds\n* Make imagebuildah.BuildOptions.Architecture/OS optional\n* Make imagebuildah.BuildOptions.Jobs optional\n* Resolve a possible race in imagebuildah.Executor.startStage()\n* Switch scripts to use containers.conf\n* Bump openshift/imagebuilder to v1.1.6\n* Bump go.etcd.io/bbolt from 1.3.4 to 1.3.5\n* buildah, bud: support --jobs=N for parallel execution\n* executor: refactor build code inside new function\n* Add bud regression tests\n* Cirrus: Fix missing htpasswd in registry img\n* docs: clarify the 'triples' format\n* CHANGELOG.md: Fix markdown formatting\n* Add nix derivation for static builds\n\nUpdate to v1.15.1\n\n* Mask over the /sys/fs/selinux in mask branch\n* chroot: do not use setgroups if it is blocked\n* chroot, run: not fail on bind mounts from /sys\n* Allow 'readonly' as alias to 'ro' in mount options\n* Add VFS additional image store to container\n* vendor golang.org/x/text@v0.3.3\n* Make imagebuildah.BuildOptions.Architecture/OS optional\n\nUpdate to v1.15.0\n\n* Add CVE-2020-10696 to CHANGELOG.md and changelog.txt\n* fix lighttpd example\n* remove dependency on openshift struct\n* Warn on unset build arguments\n* vendor: update seccomp/containers-golang to v0.4.1\n* Updated docs\n* clean up comments\n* update exit code for tests\n* Implement commit for encryption\n* implementation of encrypt/decrypt push/pull/bud/from\n* fix resolve docker image name as transport\n* Add preliminary profiling support to the CLI\n* Evaluate symlinks in build context directory\n* fix error info about get signatures for containerImageSource\n* Add Security Policy\n* Cirrus: Fixes from review feedback\n* imagebuildah: stages shouldn't count as their base images\n* Update containers/common v0.10.0\n* Add registry to buildahimage Dockerfiles\n* Cirrus: Use pre-installed VM packages + F32\n* Cirrus: Re-enable all distro versions\n* Cirrus: Update to F31 + Use cache images\n* golangci-lint: Disable gosimple\n* Lower number of golangci-lint threads\n* Fix permissions on containers.conf\n* Don't force tests to use runc\n* Return exit code from failed containers\n* cgroup_manager should be under [engine]\n* Use c/common/pkg/auth in login/logout\n* Cirrus: Temporarily disable Ubuntu 19 testing\n* Add containers.conf to stablebyhand build\n* Update gitignore to exclude test Dockerfiles\n* Remove warning for systemd inside of container\n\n- Add patch for CVE-2019-10214. boo#1144065\n  + CVE-2019-10214.patch\n\nChanges in podman:\n\nUpdate to v2.2.1\n\n* Changes\n\n  - Due to a conflict with a previously-removed field, we were forced to\n    modify the way image volumes (mounting images into containers using\n    --mount type=image) were handled in the database.\n    As a result, containers created in Podman 2.2.0 with image volume\n     will not have them in v2.2.1, and these containers will need to be re-created.\n\n* Bugfixes\n\n  - Fixed a bug where rootless Podman would, on systems without the\n    XDG_RUNTIME_DIR environment variable defined, use an incorrect path\n    for the PID file of the Podman pause process, causing Podman to fail\n    to start (#8539).\n  - Fixed a bug where containers created using Podman v1.7 and earlier were\n    unusable in Podman due to JSON decode errors (#8613).\n  - Fixed a bug where Podman could retrieve invalid cgroup paths, instead\n    of erroring, for containers that were not running.\n  - Fixed a bug where the podman system reset command would print a warning\n    about a duplicate shutdown handler being registered.\n  - Fixed a bug where rootless Podman would attempt to mount sysfs in\n    circumstances where it was not allowed; some OCI runtimes (notably\n    crun) would fall back to alternatives and not fail, but others\n    (notably runc) would fail to run containers.\n  - Fixed a bug where the podman run and podman create commands would fail\n    to create containers from untagged images (#8558).\n  - Fixed a bug where remote Podman would prompt for a password even when\n    the server did not support password authentication (#8498).\n  - Fixed a bug where the podman exec command did not move the Conmon\n    process for the exec session into the correct cgroup.\n  - Fixed a bug where shell completion for the ancestor option to\n    podman ps --filter did not work correctly.\n  - Fixed a bug where detached containers would not properly clean themselves\n    up (or remove themselves if --rm was set) if the Podman command that\n    created them was invoked with --log-level=debug.\n\n* API\n\n  - Fixed a bug where the Compat Create endpoint for Containers did not\n    properly handle the Binds and Mounts parameters in HostConfig.\n  - Fixed a bug where the Compat Create endpoint for Containers\n    ignored the Name query parameter.\n  - Fixed a bug where the Compat Create endpoint for Containers did not\n    properly handle the 'default' value for NetworkMode (this value is\n    used extensively by docker-compose) (#8544).\n  - Fixed a bug where the Compat Build endpoint for Images would sometimes\n    incorrectly use the target query parameter as the image's tag.\n\n* Misc\n\n  - Podman v2.2.0 vendored a non-released, custom version of the\n    github.com/spf13/cobra package; this has been reverted to the latest\n    upstream release to aid in packaging.\n  - Updated the containers/image library to v5.9.0\n\nUpdate to v2.2.0\n\n* Features\n\n - Experimental support for shortname aliasing has been added. This is not enabled by default, but can be turned on by setting the environment variable CONTAINERS_SHORT_NAME_ALIASING to on. Documentation is available here and here.\n - Initial support has been added for the podman network connect and podman network disconnect commands, which allow existing containers to modify what networks they are connected to. At present, these commands can only be used on running containers that did not specify --network=none when they were created.\n - The podman run command now supports the --network-alias option to set network aliases (additional names the container can be accessed at from other containers via DNS if the dnsname CNI plugin is in use). Aliases can also be added and removed using the new podman network connect and podman network disconnect commands. Please note that this requires a new release (v1.1.0) of the dnsname plugin, and will only work on newly-created CNI networks.\n - The podman generate kube command now features support for exporting container's memory and CPU limits (#7855).\n - The podman play kube command now features support for setting CPU and Memory limits for containers (#7742).\n - The podman play kube command now supports persistent volumes claims using Podman named volumes.\n - The podman play kube command now supports Kubernetes configmaps via the --configmap option (#7567).\n - The podman play kube command now supports a --log-driver option to set the log driver for created containers.\n - The podman play kube command now supports a --start option, enabled by default, to start the pod after creating it. This allows for podman play kube to be more easily used in systemd unitfiles.\n - The podman network create command now supports the --ipv6 option to enable dual-stack IPv6 networking for created networks (#7302).\n - The podman inspect command can now inspect pods, networks, and volumes, in addition to containers and images (#6757).\n - The --mount option for podman run and podman create now supports a new type, image, to mount the contents of an image into the container at a given location.\n - The Bash and ZSH completions have been completely reworked and have received significant enhancements! Additionally, support for Fish completions and completions for the podman-remote executable have been added.\n - The --log-opt option for podman create and podman run now supports the max-size option to set the maximum size for a container's logs (#7434).\n - The --network option to the podman pod create command now allows pods to be configured to use slirp4netns networking, even when run as root (#6097).\n - The podman pod stop, podman pod pause, podman pod unpause, and podman pod kill commands now work on multiple containers in parallel and should be significantly faster.\n - The podman search command now supports a --list-tags option to list all available tags for a single image in a single repository.\n - The podman search command can now output JSON using the --format=json option.\n - The podman diff and podman mount commands now work with all containers in the storage library, including those not created by Podman. This allows them to be used with Buildah and CRI-O containers.\n - The podman container exists command now features a --external option to check if a container exists not just in Podman, but also in the storage library. This will allow Podman to identify Buildah and CRI-O containers.\n - The --tls-verify and --authfile options have been enabled for use with remote Podman.\n - The /etc/hosts file now includes the container's name and hostname (both pointing to localhost) when the container is run with --net=none (#8095).\n - The podman events command now supports filtering events based on the labels of the container they occurred on using the --filter label=key=value option.\n - The podman volume ls command now supports filtering volumes based on their labels using the --filter label=key=value option.\n - The --volume and --mount options to podman run and podman create now support two new mount propagation options, unbindable and runbindable.\n - The name and id filters for podman pod ps now match based on a regular expression, instead of requiring an exact match.\n - The podman pod ps command now supports a new filter status, that matches pods in a certain state.\n* Changes\n - The podman network rm --force command will now also remove pods that are using the network (#7791).\n - The podman volume rm, podman network rm, and podman pod rm commands now return exit code 1 if the object specified for removal does not exist, and exit code 2 if the object is in use and the --force option was not given.\n - If /dev/fuse is passed into Podman containers as a device, Podman will open it before starting the container to ensure that the kernel module is loaded on the host and the device is usable in the container.\n - Global Podman options that were not supported with remote operation have been removed from podman-remote (e.g. --cgroup-manager, --storage-driver).\n - Many errors have been changed to remove repetition and be more clear as to what has gone wrong.\n - The --storage option to podman rm is now enabled by default, with slightly changed semantics. If the given container does not exist in Podman but does exist in the storage library, it will be removed even without the --storage option. If the container exists in Podman it will be removed normally. The --storage option for podman rm is now deprecated and will be removed in a future release.\n - The --storage option to podman ps has been renamed to --external. An alias has been added so the old form of the option will continue to work.\n - Podman now delays the SIGTERM and SIGINT signals during container creation to ensure that Podman is not stopped midway through creating a container resulting in potential resource leakage (#7941).\n - The podman save command now strips signatures from images it is exporting, as the formats we export to do not support signatures (#7659).\n - A new Degraded state has been added to pods. Pods that have some, but not all, of their containers running are now considered to be Degraded instead of Running.\n - Podman will now print a warning when conflicting network options related to port forwarding (e.g. --publish and --net=host) are specified when creating a container.\n - The --restart on-failure and --rm options for containers no longer conflict. When both are specified, the container will be restarted if it exits with a non-zero error code, and removed if it exits cleanly (#7906).\n - Remote Podman will no longer use settings from the client's containers.conf; defaults will instead be provided by the server's containers.conf (#7657).\n - The podman network rm command now has a new alias, podman network remove (#8402).\n* Bugfixes\n - Fixed a bug where podman load on the remote client did not error when attempting to load a directory, which is not yet supported for remote use.\n - Fixed a bug where rootless Podman could hang when the newuidmap binary was not installed (#7776).\n - Fixed a bug where the --pull option to podman run, podman create, and podman build did not match Docker's behavior.\n - Fixed a bug where sysctl settings from the containers.conf configuration file were applied, even if the container did not join the namespace associated with a sysctl.\n - Fixed a bug where Podman would not return the text of errors encounted when trying to run a healthcheck for a container.\n - Fixed a bug where Podman was accidentally setting the containers environment variable in addition to the expected container environment variable.\n - Fixed a bug where rootless Podman using CNI networking did not properly clean up DNS entries for removed containers (#7789).\n - Fixed a bug where the podman untag --all command was not supported with remote Podman.\n - Fixed a bug where the podman system service command could time out even if active attach connections were present (#7826).\n - Fixed a bug where the podman system service command would sometimes never time out despite no active connections being present.\n - Fixed a bug where Podman's handling of capabilities, specifically inheritable, did not match Docker's.\n - Fixed a bug where podman run would fail if the image specified was a manifest list and had already been pulled (#7798).\n - Fixed a bug where Podman did not take search registries into account when looking up images locally (#6381).\n - Fixed a bug where the podman manifest inspect command would fail for images that had already been pulled (#7726).\n - Fixed a bug where rootless Podman would not add supplemental GIDs to containers when when a user, but not a group, was set via the --user option to podman create and podman run and sufficient GIDs were available to add the groups (#7782).\n - Fixed a bug where remote Podman commands did not properly handle cases where the user gave a name that could also be a short ID for a pod or container (#7837).\n - Fixed a bug where podman image prune could leave images ready to be pruned after podman image prune was run (#7872).\n - Fixed a bug where the podman logs command with the journald log driver would not read all available logs (#7476).\n - Fixed a bug where the --rm and --restart options to podman create and podman run did not conflict when a restart policy that is not on-failure was chosen (#7878).\n - Fixed a bug where the --format 'table {{ .Field }}' option to numerous Podman commands ceased to function on Podman v2.0 and up.\n - Fixed a bug where pods did not properly share an SELinux label between their containers, resulting in containers being unable to see the processes of other containers when the pod shared a PID namespace (#7886).\n - Fixed a bug where the --namespace option to podman ps did not work with the remote client (#7903).\n - Fixed a bug where rootless Podman incorrectly calculated the number of UIDs available in the container if multiple different ranges of UIDs were specified.\n - Fixed a bug where the /etc/hosts file would not be correctly populated for containers in a user namespace (#7490).\n - Fixed a bug where the podman network create and podman network remove commands could race when run in parallel, with unpredictable results (#7807).\n - Fixed a bug where the -p option to podman run, podman create, and podman pod create would, when given only a single number (e.g. -p 80), assign the same port for both host and container, instead of generating a random host port (#7947).\n - Fixed a bug where Podman containers did not properly store the cgroup manager they were created with, causing them to stop functioning after the cgroup manager was changed in containers.conf or with the --cgroup-manager option (#7830).\n - Fixed a bug where the podman inspect command did not include information on the CNI networks a container was connected to if it was not running.\n - Fixed a bug where the podman attach command would not print a newline after detaching from the container (#7751).\n - Fixed a bug where the HOME environment variable was not set properly in containers when the --userns=keep-id option was set (#8004).\n - Fixed a bug where the podman container restore command could panic when the container in question was in a pod (#8026).\n - Fixed a bug where the output of the podman image trust show --raw command was not properly formatted.\n - Fixed a bug where the podman runlabel command could panic if a label to run was not given (#8038).\n - Fixed a bug where the podman run and podman start --attach commands would exit with an error when the user detached manually using the detach keys on remote Podman (#7979).\n - Fixed a bug where rootless CNI networking did not use the dnsname CNI plugin if it was not available on the host, despite it always being available in the container used for rootless networking (#8040).\n - Fixed a bug where Podman did not properly handle cases where an OCI runtime is specified by its full path, and could revert to using another OCI runtime with the same binary path that existed in the system $PATH on subsequent invocations.\n - Fixed a bug where the --net=host option to podman create and podman run would cause the /etc/hosts file to be incorrectly populated (#8054).\n - Fixed a bug where the podman inspect command did not include container network information when the container shared its network namespace (IE, joined a pod or another container's network namespace via --net=container:...) (#8073).\n - Fixed a bug where the podman ps command did not include information on all ports a container was publishing.\n - Fixed a bug where the podman build command incorrectly forwarded STDIN into build containers from RUN instructions.\n - Fixed a bug where the podman wait command's --interval option did not work when units were not specified for the duration (#8088).\n - Fixed a bug where the --detach-keys and --detach options could be passed to podman create despite having no effect (and not making sense in that context).\n - Fixed a bug where Podman could not start containers if running on a system without a /etc/resolv.conf file (which occurs on some WSL2 images) (#8089).\n - Fixed a bug where the --extract option to podman cp was nonfunctional.\n - Fixed a bug where the --cidfile option to podman run would, when the container was not run with --detach, only create the file after the container exited (#8091).\n - Fixed a bug where the podman images and podman images -a commands could panic and not list any images when certain improperly-formatted images were present in storage (#8148).\n - Fixed a bug where the podman events command could, when the journald events backend was in use, become nonfunctional when a badly-formatted event or a log message that container certain string was present in the journal (#8125).\n - Fixed a bug where remote Podman would, when using SSH transport, not authenticate to the server using hostkeys when connecting on a port other than 22 (#8139).\n - Fixed a bug where the podman attach command would not exit when containers stopped (#8154).\n - Fixed a bug where Podman did not properly clean paths before verifying them, resulting in Podman refusing to start if the root or temporary directories were specified with extra trailing / characters (#8160).\n - Fixed a bug where remote Podman did not support hashed hostnames in the known_hosts file on the host for establishing connections (#8159).\n - Fixed a bug where the podman image exists command would return non-zero (false) when multiple potential matches for the given name existed.\n - Fixed a bug where the podman manifest inspect command on images that are not manifest lists would error instead of inspecting the image (#8023).\n - Fixed a bug where the podman system service command would fail if the directory the Unix socket was to be created inside did not exist (#8184).\n - Fixed a bug where pods that shared the IPC namespace (which is done by default) did not share a /dev/shm filesystem between all containers in the pod (#8181).\n - Fixed a bug where filters passed to podman volume list were not inclusive (#6765).\n - Fixed a bug where the podman volume create command would fail when the volume's data directory already existed (as might occur when a volume was not completely removed) (#8253).\n - Fixed a bug where the podman run and podman create commands would deadlock when trying to create a container that mounted the same named volume at multiple locations (e.g. podman run -v testvol:/test1 -v testvol:/test2) (#8221).\n - Fixed a bug where the parsing of the --net option to podman build was incorrect (#8322).\n - Fixed a bug where the podman build command would print the ID of the built image twice when using remote Podman (#8332).\n - Fixed a bug where the podman stats command did not show memory limits for containers (#8265).\n - Fixed a bug where the podman pod inspect command printed the static MAC address of the pod in a non-human-readable format (#8386).\n - Fixed a bug where the --tls-verify option of the podman play kube command had its logic inverted (false would enforce the use of TLS, true would disable it).\n - Fixed a bug where the podman network rm command would error when trying to remove macvlan networks and rootless CNI networks (#8491).\n - Fixed a bug where Podman was not setting sane defaults for missing XDG_ environment variables.\n - Fixed a bug where remote Podman would check if volume paths to be mounted in the container existed on the host, not the server (#8473).\n - Fixed a bug where the podman manifest create and podman manifest add commands on local images would drop any images in the manifest not pulled by the host.\n - Fixed a bug where networks made by podman network create did not include the tuning plugin, and as such did not support setting custom MAC addresses (#8385).\n - Fixed a bug where container healthchecks did not use $PATH when searching for the Podman executable to run the healthcheck.\n - Fixed a bug where the --ip-range option to podman network create did not properly handle non-classful subnets when calculating the last usable IP for DHCP assignment (#8448).\n - Fixed a bug where the podman container ps alias for podman ps was missing (#8445).\n* API\n - The Compat Create endpoint for Container has received a major refactor to share more code with the Libpod Create endpoint, and should be significantly more stable.\n - A Compat endpoint for exporting multiple images at once, GET /images/get, has been added (#7950).\n - The Compat Network Connect and Network Disconnect endpoints have been added.\n - Endpoints that deal with image registries now support a X-Registry-Config header to specify registry authentication configuration.\n - The Compat Create endpoint for images now properly supports specifying images by digest.\n - The Libpod Build endpoint for images now supports an httpproxy query parameter which, if set to true, will forward the server's HTTP proxy settings into the build container for RUN instructions.\n - The Libpod Untag endpoint for images will now remove all tags for the given image if no repository and tag are specified for removal.\n - Fixed a bug where the Ping endpoint misspelled a header name (Libpod-Buildha-Version instead of Libpod-Buildah-Version).\n - Fixed a bug where the Ping endpoint sent an extra newline at the end of its response where Docker did not.\n - Fixed a bug where the Compat Logs endpoint for containers did not send a newline character after each log line.\n - Fixed a bug where the Compat Logs endpoint for containers would mangle line endings to change newline characters to add a preceding carriage return (#7942).\n - Fixed a bug where the Compat Inspect endpoint for Containers did not properly list the container's stop signal (#7917).\n - Fixed a bug where the Compat Inspect endpoint for Containers formatted the container's create time incorrectly (#7860).\n - Fixed a bug where the Compat Inspect endpoint for Containers did not include the container's Path, Args, and Restart Count.\n - Fixed a bug where the Compat Inspect endpoint for Containers prefixed added and dropped capabilities with CAP_ (Docker does not do so).\n - Fixed a bug where the Compat Info endpoint for the Engine did not include configured registries.\n - Fixed a bug where the server could panic if a client closed a connection midway through an image pull (#7896).\n - Fixed a bug where the Compat Create endpoint for volumes returned an error when a volume with the same name already existed, instead of succeeding with a 201 code (#7740).\n - Fixed a bug where a client disconnecting from the Libpod or Compat events endpoints could result in the server using 100% CPU (#7946).\n - Fixed a bug where the 'no such image' error message sent by the Compat Inspect endpoint for Images returned a 404 status code with an error that was improperly formatted for Docker compatibility.\n - Fixed a bug where the Compat Create endpoint for networks did not properly set a default for the driver parameter if it was not provided by the client.\n - Fixed a bug where the Compat Inspect endpoint for images did not populate the RootFS field of the response.\n - Fixed a bug where the Compat Inspect endpoint for images would omit the ParentId field if the image had no parent, and the Created field if the image did not have a creation time.\n - Fixed a bug where the Compat Remove endpoint for Networks did not support the Force query parameter.\n",
      "Title": "Details",
      "Type": "General"
    },
    {
      "Text": "The CVRF data is provided by SUSE under the Creative Commons License 4.0 with Attribution (CC-BY-4.0).",
      "Title": "Terms of Use",
      "Type": "Legal Disclaimer"
    },
    {
      "Text": "openSUSE-2021-310",
      "Title": "Patchnames",
      "Type": "Details"
    }
  ],
  "ProductTree": {
    "Relationships": [
      {
        "ProductReference": "buildah-1.19.2-lp152.2.3.1",
        "RelatesToProductReference": "openSUSE Leap 15.2",
        "RelationType": "Default Component Of"
      },
      {
        "ProductReference": "libcontainers-common-20210112-lp152.2.6.1",
        "RelatesToProductReference": "openSUSE Leap 15.2",
        "RelationType": "Default Component Of"
      },
      {
        "ProductReference": "podman-2.2.1-lp152.4.9.1",
        "RelatesToProductReference": "openSUSE Leap 15.2",
        "RelationType": "Default Component Of"
      },
      {
        "ProductReference": "podman-cni-config-2.2.1-lp152.4.9.1",
        "RelatesToProductReference": "openSUSE Leap 15.2",
        "RelationType": "Default Component Of"
      }
    ]
  },
  "References": [
    {
      "URL": "https://lists.opensuse.org/archives/list/security-announce@lists.opensuse.org/thread/P4DQSPUPKAZCPS5MQYTAYGS7YM76UIHZ/",
      "Description": "E-Mail link for openSUSE-SU-2021:0310-1"
    },
    {
      "URL": "https://www.suse.com/support/security/rating/",
      "Description": "SUSE Security Ratings"
    },
    {
      "URL": "https://bugzilla.suse.com/1144065",
      "Description": "SUSE Bug 1144065"
    },
    {
      "URL": "https://bugzilla.suse.com/1165184",
      "Description": "SUSE Bug 1165184"
    },
    {
      "URL": "https://www.suse.com/security/cve/CVE-2019-10214/",
      "Description": "SUSE CVE CVE-2019-10214 page"
    },
    {
      "URL": "https://www.suse.com/security/cve/CVE-2020-10696/",
      "Description": "SUSE CVE CVE-2020-10696 page"
    }
  ],
  "Vulnerabilities": [
    {
      "CVE": "CVE-2019-10214",
      "Description": "The containers/image library used by the container tools Podman, Buildah, and Skopeo in Red Hat Enterprise Linux version 8 and CRI-O in OpenShift Container Platform, does not enforce TLS connections to the container registry authorization service. An attacker could use this vulnerability to launch a MiTM attack and steal login credentials or bearer tokens.",
      "Threats": [
        {
          "Type": "Impact",
          "Severity": "important"
        }
      ],
      "References": [
        {
          "URL": "https://www.suse.com/security/cve/CVE-2019-10214.html",
          "Description": "CVE-2019-10214"
        },
        {
          "URL": "https://bugzilla.suse.com/1144065",
          "Description": "SUSE Bug 1144065"
        }
      ],
      "ProductStatuses": [
        {
          "Type": "Fixed",
          "ProductID": [
            "openSUSE Leap 15.2:buildah-1.19.2-lp152.2.3.1",
            "openSUSE Leap 15.2:libcontainers-common-20210112-lp152.2.6.1",
            "openSUSE Leap 15.2:podman-2.2.1-lp152.4.9.1",
            "openSUSE Leap 15.2:podman-cni-config-2.2.1-lp152.4.9.1"
          ]
        }
      ],
      "CVSSScoreSets": {}
    },
    {
      "CVE": "CVE-2020-10696",
      "Description": "A path traversal flaw was found in Buildah in versions before 1.14.5. This flaw allows an attacker to trick a user into building a malicious container image hosted on an HTTP(s) server and then write files to the user's system anywhere that the user has permissions.",
      "Threats": [
        {
          "Type": "Impact",
          "Severity": "important"
        }
      ],
      "References": [
        {
          "URL": "https://www.suse.com/security/cve/CVE-2020-10696.html",
          "Description": "CVE-2020-10696"
        },
        {
          "URL": "https://bugzilla.suse.com/1167864",
          "Description": "SUSE Bug 1167864"
        }
      ],
      "ProductStatuses": [
        {
          "Type": "Fixed",
          "ProductID": [
            "openSUSE Leap 15.2:buildah-1.19.2-lp152.2.3.1",
            "openSUSE Leap 15.2:libcontainers-common-20210112-lp152.2.6.1",
            "openSUSE Leap 15.2:podman-2.2.1-lp152.4.9.1",
            "openSUSE Leap 15.2:podman-cni-config-2.2.1-lp152.4.9.1"
          ]
        }
      ],
      "CVSSScoreSets": {}
    }
  ]
}