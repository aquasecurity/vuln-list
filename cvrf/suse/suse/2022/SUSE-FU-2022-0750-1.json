{
  "Title": "Feature update for SUSE Manager Client Tools",
  "Tracking": {
    "ID": "SUSE-FU-2022:0750-1",
    "Status": "Final",
    "Version": "1",
    "InitialReleaseDate": "2022-03-08T11:26:06Z",
    "CurrentReleaseDate": "2022-03-08T11:26:06Z",
    "RevisionHistory": [
      {
        "Number": "1",
        "Date": "2022-03-08T11:26:06Z",
        "Description": "current"
      }
    ]
  },
  "Notes": [
    {
      "Text": "Feature update for SUSE Manager Client Tools",
      "Title": "Topic",
      "Type": "Summary"
    },
    {
      "Text": "This feature update fixes the following issues:\n\ncobbler:\n\n- Move configuration files ownership to apache (bsc#1195906) \n- Make configuration files only readable by root (bsc#1193671, CVE-2021-45083)\n\ngolang-github-prometheus-prometheus:\n\n- Upgrade to upstream version 2.32.1 (jsc#SLE-22863)\n  + Bugfixes:\n    * Scrape: Fix reporting metrics when sample limit is reached\n      during the report. #9996\n    * Scrape: Ensure that scrape interval and scrape timeout are\n      always set. #10023\n    * TSDB: Expose and fix bug in iterators' Seek() method. #10030\n- Upgrade to upstream version 2.32.0\n  + Change:\n    * remote-write: Change default max retry time from 100ms to\n      5 seconds. #9634\n  + Features:\n    * Agent: New mode of operation optimized for remote-write only\n      scenarios, without local storage.\n    * Promtool: Add promtool check service-discovery command. #8970\n  + Enhancements:\n    * Promtool: Improve test output. #8064\n    * Promtool: Use kahan summation for better numerical stability.\n    * Remote-write: Reuse memory for marshalling. #9412\n    * Scrape: Add scrape_body_size_bytes scrape metric behind the\n      --enable-feature=extra-scrape-metrics flag. #9569\n    * TSDB: Add windows arm64 support. #9703\n    * TSDB: Optimize query by skipping unneeded sorting in TSDB.\n    * Templates: Support int and uint as datatypes for template\n      formatting. #9680\n    * UI: Prefer rate over rad, delta over deg, and count over cos\n      in autocomplete. #9688\n    * TSDB: Add more size checks when writing individual sections\n      in the index. #9710\n    * PromQL: Make deriv() return zero values for constant series.\n    * TSDB: Fix panic when checkpoint directory is empty. #9687\n    * TSDB: Fix panic, out of order chunks, and race warning during\n      WAL replay. #9856\n    * UI: Correctly render links for targets with IPv6 addresses\n      that contain a Zone ID. #9853\n    * Promtool: Fix checking of authorization.credentials_file and\n      bearer_token_file fields. #9883\n    * Uyuni SD: Fix null pointer exception during initialization.\n    * TSDB: Fix queries after a failed snapshot replay. #9980\n- Upgrade to upstream version 2.31.1\n  + Bugfix:\n    * SD: Fix a panic when the experimental discovery manager\n      receives targets during a reload. #9656\n- Upgrade to upstream version 2.31.0\n    * UI: Remove standard PromQL editor in favour of the\n      codemirror-based editor. #9452\n    * PromQL: Add trigonometric functions and atan2 binary\n      operator. #9239 #9248 #9515\n    * Remote: Add support for exemplar in the remote write receiver\n      endpoint. #9319 #9414\n    * SD: Add PuppetDB service discovery. #8883\n    * SD: Add Uyuni service discovery. #8190\n    * Web: Add support for security-related HTTP headers. #9546\n    * Azure SD: Add proxy_url, follow_redirects, tls_config. #9267\n    * Backfill: Add --max-block-duration in promtool\n      create-blocks-from rules. #9511\n    * Config: Print human-readable sizes with unit instead of raw\n      numbers. #9361\n    * HTTP: Re-enable HTTP/2. #9398\n    * Kubernetes SD: Warn user if number of endpoints exceeds\n      limit. #9467\n    * OAuth2: Add TLS configuration to token requests. #9550\n    * PromQL: Several optimizations. #9365 #9360 #9362 #9552\n    * PromQL: Make aggregations deterministic in instant queries.\n    * Rules: Add the ability to limit number of alerts or series.\n    * SD: Experimental discovery manager to avoid restarts upon\n      reload.\n    * UI: Debounce timerange setting changes. #9359\n    * Backfill: Apply rule labels after query labels. #9421\n    * Scrape: Resolve conflicts between multiple exported label\n      prefixes. #9479 #9518\n    * Scrape: Restart scrape loops when __scrape_interval__ is\n      changed. #9551\n    * TSDB: Fix memory leak in samples deletion. #9151\n    * UI: Use consistent margin-bottom for all alert kinds. #9318\n- Upgrade to upstream version 2.30.3\n    * TSDB: Fix panic on failed snapshot replay. #9438\n    * TSDB: Don't fail snapshot replay with exemplar storage\n      disabled when the snapshot contains exemplars. #9438\n- Upgrade to upstream version 2.30.2\n    * TSDB: Don't error on overlapping m-mapped chunks during WAL\n      replay. #9381\n- Upgrade to upstream version 2.30.1\n    * Remote Write: Redact remote write URL when used for metric\n      label. #9383\n    * UI: Redact remote write URL and proxy URL passwords in the\n      /config page. #9408\n    * promtool rules backfill: Prevent creation of data before the\n      start time. #9339\n    * promtool rules backfill: Do not query after the end time.\n    * Azure SD: Fix panic when no computername is set. #9387\n- Upgrade to upstream version 2.30.0\n    * experimental TSDB: Snapshot in-memory chunks on shutdown for\n      faster restarts. #7229\n    * experimental Scrape: Configure scrape interval and scrape\n      timeout via relabeling using __scrape_interval__ and\n      __scrape_timeout__ labels respectively. #8911\n    * Scrape: Add scrape_timeout_seconds and scrape_sample_limit\n      metric. #9247 #9295\n    * Scrape: Add --scrape.timestamp-tolerance flag to adjust\n      scrape timestamp tolerance when enabled via\n      --scrape.adjust-timestamps. #9283\n    * Remote Write: Improve throughput when sending exemplars.\n    * TSDB: Optimise WAL loading by removing extra map and caching\n      min-time #9160\n    * promtool: Speed up checking for duplicate rules. #9262/#9306\n    * Scrape: Reduce allocations when parsing the metrics. #9299\n    * docker_sd: Support host network mode #9125\n    * Exemplars: Fix panic when resizing exemplar storage from 0 to\n      a non-zero size. #9286\n    * TSDB: Correctly decrement\n      prometheus_tsdb_head_active_appenders when the append has no\n      samples. #9230\n    * promtool rules backfill: Return 1 if backfill was\n      unsuccessful. #9303\n    * promtool rules backfill: Avoid creation of overlapping\n      blocks. #9324\n    * config: Fix a panic when reloading configuration with a null\n      relabel action. #9224\n- Upgrade to upstream version 2.29.2\n    * Fix Kubernetes SD failing to discover Ingress in\n      Kubernetes v1.22. #9205\n    * Fix data race in loading write-ahead-log (WAL). #9259\n- Upgrade to upstream version 2.29.1\n    * TSDB: align atomically accessed int64 to prevent panic in\n      32-bit archs. #9192\n- Upgrade to upstream version 2.29.0\n  + Changes:\n    * Promote --storage.tsdb.allow-overlapping-blocks flag to\n      stable. #9117\n    * Promote --storage.tsdb.retention.size flag to stable. #9004\n    * Add Kuma service discovery. #8844\n    * Add present_over_time PromQL function. #9097\n    * Allow configuring exemplar storage via file and make it\n      reloadable. #8974\n    * UI: Allow selecting time range with mouse drag. #8977\n    * promtool: Add feature flags flag --enable-feature. #8958\n    * promtool: Add file_sd file validation. #8950\n    * Reduce blocking of outgoing remote write requests from series\n      garbage collection. #9109\n    * Improve write-ahead-log decoding performance. #9106\n    * Improve append performance in TSDB by reducing mutexes usage.\n    * Allow configuring max_samples_per_send for remote write\n      metadata. #8959\n    * Add __meta_gce_interface_ipv4_\u003cname\u003e meta label to GCE\n      discovery. #8978\n    * Add __meta_ec2_availability_zone_id meta label to EC2\n      discovery. #8896\n    * Add __meta_azure_machine_computer_name meta label to Azure\n      discovery. #9112\n    * Add __meta_hetzner_hcloud_labelpresent_\u003clabelname\u003e meta label\n      to Hetzner discovery. #9028\n    * promtool: Add compaction efficiency to promtool tsdb analyze\n      reports. #8940\n    * promtool: Allow configuring max block duration for\n      backfilling via --max-block-duration flag. #8919\n    * UI: Add sorting and filtering to flags page. #8988\n    * UI: Improve alerts page rendering performance. #9005\n    * Log when total symbol size exceeds 2^32 bytes, causing\n      compaction to fail, and skip compaction. #9104\n    * Fix incorrect target_limit reloading of zero value. #9120\n    * Fix head GC and pending readers race condition. #9081\n    * Fix timestamp handling in OpenMetrics parser. #9008\n    * Fix potential duplicate metrics in /federate endpoint when\n      specifying multiple matchers. #8885\n    * Fix server configuration and validation for authentication\n      via client cert. #9123\n    * Allow start and end again as label names in PromQL queries.\n      They were disallowed since the introduction of @ timestamp\n      feature. #9119\n- Upgrade to upstream version 2.28.1\n    * HTTP SD: Allow charset specification in Content-Type header.\n    * HTTP SD: Fix handling of disappeared target groups. #9019\n    * Fix incorrect log-level handling after moving to go-kit/log.\n- Upgrade to upstream version 2.28.0\n    * UI: Make the new experimental PromQL editor the default.\n    * Linode SD: Add Linode service discovery. #8846\n    * HTTP SD: Add generic HTTP-based service discovery. #8839\n    * Kubernetes SD: Allow configuring API Server access via a\n      kubeconfig file. #8811\n    * UI: Add exemplar display support to the graphing interface.\n    * Consul SD: Add namespace support for Consul Enterprise. #8900\n    * Promtool: Allow silencing output when importing / backfilling\n      data. #8917\n    * Consul SD: Support reading tokens from file. #8926\n    * Rules: Add a new .ExternalURL alert field templating\n      variable, containing the external URL of the Prometheus\n      server. #8878\n    * Scrape: Add experimental body_size_limit scrape configuration\n      setting to limit the allowed response body size for target\n      scrapes. #8833 #8886\n    * Kubernetes SD: Add ingress class name label for ingress\n      discovery. #8916\n    * UI: Show a startup screen with progress bar when the TSDB is\n      not ready yet. #8662 #8908 #8909 #8946\n    * SD: Add a target creation failure counter\n      prometheus_target_sync_failed_total and improve target\n      creation failure handling. #8786\n    * TSDB: Improve validation of exemplar label set length. #8816\n    * TSDB: Add a prometheus_tsdb_clean_start metric that indicates\n      whether a TSDB lockfile from a previous run still existed\n      upon startup. #8824\n    * UI: In the experimental PromQL editor, fix autocompletion and\n      parsing for special float values and improve series metadata\n      fetching. #8856\n    * TSDB: When merging chunks, split resulting chunks if they\n      would contain more than the maximum of 120 samples. #8582\n    * SD: Fix the computation of the\n      prometheus_sd_discovered_targets metric when using multiple\n      service discoveries. #8828\n- Added hardening to systemd service(s) (bsc#1181400). Modified:\n\nmgr-cfg:\n\n- Version 4.3.4-1\n  * Fix installation problem for SLE15SP4 due missing python-selinux\n\nsalt:\n\n- Fix inspector module export function (bsc#1097531)\n- Wipe NOTIFY_SOCKET from env in cmdmod (bsc#1193357)\n- Fix possible traceback on ip6_interface grain (bsc#1193565)\n- Don't check for cached pillar errors on state.apply (bsc#1190781)\n- Simplify 'transactional_update' module to not use SSH wrapper and allow more flexible execution\n- Add '--no-return-event' option to salt-call to prevent sending return event back to master.\n- Make 'state.highstate' to acts on concurrent flag.\n\nspacecmd:\n\n- Version 4.3.7-1\n  * Include group formulas configuration in spacecmd group_backup and\n    spacecmd group_restore. This changes backup format to json,\n    previously used plain text is still supported for reading (bsc#1190462)\n  * Fix interactive mode for 'system_applyerrata' and 'errata_apply' (bsc#1194363)\n- Version 4.3.6-1\n  * Update translation strings\n\nspacewalk-client-tools:\n\n- Version 4.3.6-1\n  * Update translation strings\n\n",
      "Title": "Details",
      "Type": "General"
    },
    {
      "Text": "The CVRF data is provided by SUSE under the Creative Commons License 4.0 with Attribution (CC-BY-4.0).",
      "Title": "Terms of Use",
      "Type": "Legal Disclaimer"
    },
    {
      "Text": "SUSE-2022-750,SUSE-SLE-Manager-Tools-12-BETA-2022-750",
      "Title": "Patchnames",
      "Type": "Details"
    }
  ],
  "ProductTree": {
    "Relationships": null
  },
  "References": [
    {
      "URL": "https://www.suse.com/support/update/announcement/-2022-750/suse-fu-20220750-1/",
      "Description": "Link for SUSE-FU-2022:0750-1"
    },
    {
      "URL": "https://lists.suse.com/pipermail/sle-updates/2022-March/022005.html",
      "Description": "E-Mail link for SUSE-FU-2022:0750-1"
    },
    {
      "URL": "https://www.suse.com/support/security/rating/",
      "Description": "SUSE Security Ratings"
    },
    {
      "URL": "https://bugzilla.suse.com/1097531",
      "Description": "SUSE Bug 1097531"
    },
    {
      "URL": "https://bugzilla.suse.com/1181400",
      "Description": "SUSE Bug 1181400"
    },
    {
      "URL": "https://bugzilla.suse.com/1190462",
      "Description": "SUSE Bug 1190462"
    },
    {
      "URL": "https://bugzilla.suse.com/1190781",
      "Description": "SUSE Bug 1190781"
    },
    {
      "URL": "https://bugzilla.suse.com/1193357",
      "Description": "SUSE Bug 1193357"
    },
    {
      "URL": "https://bugzilla.suse.com/1193565",
      "Description": "SUSE Bug 1193565"
    },
    {
      "URL": "https://bugzilla.suse.com/1193671",
      "Description": "SUSE Bug 1193671"
    },
    {
      "URL": "https://bugzilla.suse.com/1194363",
      "Description": "SUSE Bug 1194363"
    },
    {
      "URL": "https://bugzilla.suse.com/1195906",
      "Description": "SUSE Bug 1195906"
    },
    {
      "URL": "https://www.suse.com/security/cve/CVE-2021-45083/",
      "Description": "SUSE CVE CVE-2021-45083 page"
    }
  ],
  "Vulnerabilities": [
    {
      "CVE": "CVE-2021-45083",
      "Description": "An issue was discovered in Cobbler before 3.3.1. Files in /etc/cobbler are world readable. Two of those files contain some sensitive information that can be exposed to a local user who has non-privileged access to the server. The users.digest file contains the sha2-512 digest of users in a Cobbler local installation. In the case of an easy-to-guess password, it's trivial to obtain the plaintext string. The settings.yaml file contains secrets such as the hashed default password.",
      "Threats": [
        {
          "Type": "Impact",
          "Severity": "moderate"
        }
      ],
      "References": [
        {
          "URL": "https://www.suse.com/security/cve/CVE-2021-45083.html",
          "Description": "CVE-2021-45083"
        },
        {
          "URL": "https://bugzilla.suse.com/1193671",
          "Description": "SUSE Bug 1193671"
        }
      ],
      "ProductStatuses": [
        {
          "Type": "Fixed",
          "ProductID": null
        }
      ],
      "CVSSScoreSets": {}
    }
  ]
}