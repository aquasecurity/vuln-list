{
  "PublicDateAtUSN": "0001-01-01T00:00:00Z",
  "CRD": "0001-01-01T00:00:00Z",
  "Candidate": "CVE-2024-35195",
  "PublicDate": "2024-05-20T21:15:00Z",
  "References": [
    "https://www.cve.org/CVERecord?id=CVE-2024-35195",
    "https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56"
  ],
  "Description": "Requests is a HTTP library. Prior to 2.32.0, when making requests through a Requests `Session`, if the first request is made with `verify=False` to disable cert verification, all subsequent requests to the same host will continue to ignore cert verification regardless of changes to the value of `verify`. This behavior will continue for the lifecycle of the connection in the connection pool. This vulnerability is fixed in 2.32.0.",
  "UbuntuDescription": "",
  "Notes": [
    "mdeslaur\u003e On focal and earlier, the python-pip package bundles requests",
    "mdeslaur\u003e binaries when built. After updating requests, a no-change",
    "mdeslaur\u003e rebuild of python-pip is required.",
    "mdeslaur\u003e On jammy and later, requests is bundled in the python-pip",
    "mdeslaur\u003e package and needs to be patched.",
    "mdeslaur\u003e",
    "mdeslaur\u003e The fix for this issue introduced regressions in certain other",
    "mdeslaur\u003e applications, such as docker. See",
    "mdeslaur\u003e https://github.com/docker/docker-py/pull/3257",
    "mdeslaur\u003e and resulted in 2.32.0 and 2.32.1 in being yanked, see:",
    "mdeslaur\u003e https://pypi.org/project/requests/#history",
    "mdeslaur\u003e",
    "mdeslaur\u003e 2.32.2 and 2.32.3 were subsequently released to fix those",
    "mdeslaur\u003e regressions.",
    "mdeslaur\u003e",
    "mdeslaur\u003e Even with the regression fixes in 2.32.2 and 2.32.3, fixing this",
    "mdeslaur\u003e may still break applications that subclass HTTPAdapter, for",
    "mdeslaur\u003e example, cloud-init. See:",
    "mdeslaur\u003e https://github.com/canonical/cloud-init/pull/5435",
    "vyomydv\u003e The CVE patch causes a regression. The patch enforced the URL scheme",
    "vyomydv\u003e to be either `http` or `https`. This broke users that used a custom",
    "vyomydv\u003e scheme (e.g. `http+docker`) by implementing a custom `get_connection` method",
    "vyomydv\u003e but used the default `send` method. Patching this CVE would require some",
    "vyomydv\u003e users to update their source code like:",
    "vyomydv\u003e https://github.com/docker/docker-py/pull/3257",
    "vyomydv\u003e python-pip, on focal and earlier versions, bundles requests during the build.",
    "vyomydv\u003e Since requests can't be patched due to breaking changes, python-pip has been",
    "vyomydv\u003e ignored on focal and earlier."
  ],
  "Bugs": null,
  "Priority": "medium",
  "DiscoveredBy": "",
  "AssignedTo": "vyomydv",
  "Tags": null,
  "Patches": {
    "python-pip": {
      "devel": {
        "Status": "needed",
        "Note": ""
      },
      "esm-apps/bionic": {
        "Status": "ignored",
        "Note": "bundles requests during build, and requests cannot be patched"
      },
      "esm-apps/focal": {
        "Status": "ignored",
        "Note": "bundles requests during build, and requests cannot be patched"
      },
      "esm-apps/jammy": {
        "Status": "needed",
        "Note": ""
      },
      "esm-apps/noble": {
        "Status": "needed",
        "Note": ""
      },
      "esm-apps/xenial": {
        "Status": "ignored",
        "Note": "bundles requests during build, and requests cannot be patched"
      },
      "esm-infra-legacy/trusty": {
        "Status": "ignored",
        "Note": "bundles requests during build, and requests cannot be patched"
      },
      "focal": {
        "Status": "ignored",
        "Note": "end of standard support, was ignored [bundles requests during build, and requests cannot be patched]"
      },
      "jammy": {
        "Status": "needed",
        "Note": ""
      },
      "mantic": {
        "Status": "ignored",
        "Note": "end of life, was needed"
      },
      "noble": {
        "Status": "needed",
        "Note": ""
      },
      "oracular": {
        "Status": "ignored",
        "Note": "end of life, was needed"
      },
      "plucky": {
        "Status": "needed",
        "Note": ""
      },
      "questing": {
        "Status": "needed",
        "Note": ""
      },
      "trusty/esm": {
        "Status": "ignored",
        "Note": "end of ESM support, was ignored [bundles requests during build, and requests cannot be patched]"
      },
      "upstream": {
        "Status": "needs-triage",
        "Note": ""
      }
    },
    "requests": {
      "devel": {
        "Status": "released",
        "Note": "2.32.3+dfsg-1ubuntu1"
      },
      "esm-infra-legacy/trusty": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "esm-infra/bionic": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "esm-infra/focal": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "esm-infra/xenial": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "focal": {
        "Status": "ignored",
        "Note": "end of standard support, was ignored [breaks users, requires source code updates]"
      },
      "jammy": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "mantic": {
        "Status": "ignored",
        "Note": "end of life, was ignored [breaks users, requires source code updates]"
      },
      "noble": {
        "Status": "ignored",
        "Note": "breaks users, requires source code updates"
      },
      "oracular": {
        "Status": "released",
        "Note": "2.32.3+dfsg-1ubuntu1"
      },
      "plucky": {
        "Status": "released",
        "Note": "2.32.3+dfsg-1ubuntu1"
      },
      "questing": {
        "Status": "released",
        "Note": "2.32.3+dfsg-1ubuntu1"
      },
      "trusty/esm": {
        "Status": "ignored",
        "Note": "end of ESM support, was ignored [breaks users, requires source code updates]"
      },
      "upstream": {
        "Status": "needs-triage",
        "Note": ""
      }
    }
  },
  "UpstreamLinks": {
    "requests": [
      "https://github.com/psf/requests/pull/6655",
      "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac",
      "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)",
      "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
    ]
  }
}